<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T8ZKQM6RT9"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-T8ZKQM6RT9');
    </script>
    <link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="Structure" href="structure.html" /><link rel="prev" title="Installation and Setup" href="install.html" />
        <link rel="canonical" href="https://marker-inc-korea.github.io/AutoRAG/tutorial.html" />

    <!-- Generated with Sphinx 7.3.7 and Furo 2024.01.29 -->
        <title>Tutorial - AutoRAG documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css?v=4c969af8" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">AutoRAG  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">AutoRAG  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation and Setup</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="structure.html">Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">TroubleShooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="local_model.html">Configure LLM &amp; Embedding models</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Creation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="data_creation/tutorial.html">Start creating your own evaluation data</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_creation/data_format.html">Dataset Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_creation/ragas.html">RAGAS evaluation data generation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Optimization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="optimization/optimization.html">How optimization works</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimization/folder_structure.html">Folder Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimization/custom_config.html">Make custom config yaml file</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Nodes &amp; Modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="nodes/index.html">Available List</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="nodes/query_expansion/query_expansion.html"><strong>1. Query Expansion</strong></a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of 1. Query Expansion</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="nodes/query_expansion/query_decompose.html">Query Decompose</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/query_expansion/hyde.html">HyDE</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="nodes/retrieval/retrieval.html">2. Retrieval</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of 2. Retrieval</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="nodes/retrieval/bm25.html">BM25</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/retrieval/vectordb.html">Vectordb</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/retrieval/hybrid_rrf.html">Hybrid - rrf</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/retrieval/hybrid_cc.html">Hybrid - cc</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/retrieval/hybrid_rsf.html">Hybrid - rsf</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/retrieval/hybrid_dbsf.html">Hybrid - dbsf</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="nodes/passage_reranker/passage_reranker.html">3. Passage_Reranker</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of 3. Passage_Reranker</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_reranker/upr.html">UPR</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_reranker/tart.html">TART</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_reranker/monot5.html">MonoT5</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_reranker/koreranker.html">Ko-reranker</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_reranker/cohere.html">cohere_reranker</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_reranker/rankgpt.html">RankGPT</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_reranker/jina_reranker.html">jina_reranker</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_reranker/colbert.html">Colbert Reranker</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_reranker/sentence_transformer_reranker.html">Sentence Transformer Reranker</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_reranker/flag_embedding_reranker.html">Flag Embedding Reranker</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_reranker/flag_embedding_llm_reranker.html">Flag Embedding LLM Reranker</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_reranker/time_reranker.html">Time Reranker</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="nodes/passage_compressor/passage_compressor.html">4. Passage_Compressor</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of 4. Passage_Compressor</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_compressor/tree_summarize.html">Tree Summarize</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_compressor/refine.html">Refine</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="nodes/prompt_maker/prompt_maker.html">5. Prompt Maker</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of 5. Prompt Maker</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="nodes/prompt_maker/fstring.html">F-String</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/prompt_maker/long_context_reorder.html">Long Context Reorder</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="nodes/generator/generator.html">6. Generator</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of 6. Generator</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="nodes/generator/llama_index_llm.html">llama_index LLM</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/generator/vllm.html">vllm</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="nodes/passage_filter/passage_filter.html">Passage Filter</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Passage Filter</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_filter/similarity_threshold_cutoff.html">Similarity Threshold Cutoff</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_filter/similarity_percentile_cutoff.html">Similarity Percentile Cutoff</a></li>
<li class="toctree-l2"><a class="reference internal" href="nodes/passage_filter/recency_filter.html">Recency Filter</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Deploy</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="deploy/api_endpoint.html">API endpoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="deploy/web.html">Web Interface</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Roadmap</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="roadmap/modular_rag.html">Road to Modular RAG</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="api_spec/modules.html">autorag</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of autorag</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="api_spec/autorag.html">autorag package</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of autorag package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="api_spec/autorag.data.html">autorag.data package</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of autorag.data package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api_spec/autorag.data.corpus.html">autorag.data.corpus package</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_spec/autorag.data.qacreation.html">autorag.data.qacreation package</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_spec/autorag.data.utils.html">autorag.data.utils package</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api_spec/autorag.evaluate.html">autorag.evaluate package</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of autorag.evaluate package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api_spec/autorag.evaluate.metric.html">autorag.evaluate.metric package</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="api_spec/autorag.nodes.html">autorag.nodes package</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of autorag.nodes package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="api_spec/autorag.nodes.generator.html">autorag.nodes.generator package</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_spec/autorag.nodes.passageaugmenter.html">autorag.nodes.passageaugmenter package</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_spec/autorag.nodes.passagecompressor.html">autorag.nodes.passagecompressor package</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_spec/autorag.nodes.passagefilter.html">autorag.nodes.passagefilter package</a></li>
<li class="toctree-l4 has-children"><a class="reference internal" href="api_spec/autorag.nodes.passagereranker.html">autorag.nodes.passagereranker package</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of autorag.nodes.passagereranker package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l5"><a class="reference internal" href="api_spec/autorag.nodes.passagereranker.tart.html">autorag.nodes.passagereranker.tart package</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="api_spec/autorag.nodes.promptmaker.html">autorag.nodes.promptmaker package</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_spec/autorag.nodes.queryexpansion.html">autorag.nodes.queryexpansion package</a></li>
<li class="toctree-l4"><a class="reference internal" href="api_spec/autorag.nodes.retrieval.html">autorag.nodes.retrieval package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api_spec/autorag.schema.html">autorag.schema package</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_spec/autorag.utils.html">autorag.utils package</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Link to this heading">¶</a></h1>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Before start this tutorial, make sure you installed AutoRAG.
To install it, please check <a class="reference internal" href="install.html"><span class="std std-doc">Installation</span></a>.</p>
</div>
<div class="admonition-colab-tutorial admonition">
<p class="admonition-title">Colab Tutorial</p>
<p>Do you use Colab? You can check out Colab tutorial at <a class="reference external" href="https://colab.research.google.com/drive/19OEQXO_pHN6gnn2WdfPd4hjnS-4GurVd?usp=sharing">here</a>.</p>
</div>
<section id="prepare-evaluation-dataset">
<h2>Prepare Evaluation Dataset<a class="headerlink" href="#prepare-evaluation-dataset" title="Link to this heading">¶</a></h2>
<p>First, you have to prepare an evaluation dataset for your RAG pipeline.
Making a good evaluation dataset is the key to getting a good RAG pipeline.
So, you need to focus on the quality of your evaluation dataset.
Once you have it, the optimal RAG pipeline can be found using AutoRAG easily.</p>
<p>So, for users who want to make a good evaluation dataset,
we provide a detailed guide at <a class="reference internal" href="data_creation/tutorial.html"><span class="std std-doc">here</span></a>.</p>
<p>For users who want to use a pre-made evaluation dataset,
we provide example datasets at <a class="reference internal" href="data_creation/data_format.html#samples"><span class="std std-ref">here</span></a>.</p>
<p>Also, you can check out sample datasets at <a class="reference external" href="https://huggingface.co/collections/MarkrAI/autorag-evaluation-datasets-65c0ee87d673dcc686bd14b8">huggingface</a>.
You can download it manually using huggingface datasets library.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Don’t forget to split train and test dataset.
It is common mistake to not split dataset, but it will occur overfitting issue.
We highly recommend you to optimize RAG pipeline with train dataset, and evaluate whole pipeline with test dataset later.</p>
</div>
<p>After you prepare your evaluation dataset, please keep in mind the path to your dataset.</p>
<div class="admonition-note-dataset-format admonition">
<p class="admonition-title">Note: Dataset Format</p>
<p>Make sure there are two evaluation datasets, qa dataset and corpus dataset.
And you must save it as parquet format.
If you don’t know about specific columns and data types, check out the <a class="reference internal" href="data_creation/data_format.html"><span class="std std-doc">Data Format</span></a> section.</p>
</div>
</section>
<section id="find-optimal-rag-pipeline">
<h2>Find Optimal RAG Pipeline<a class="headerlink" href="#find-optimal-rag-pipeline" title="Link to this heading">¶</a></h2>
<p>Let’s find an optimal RAG pipeline with AutoRAG!
After you prepare your evaluation dataset, you need to have a config yaml file.
There are few pre-made config yaml files at our GitHub repo <code class="docutils literal notranslate"><span class="pre">sample_config</span></code> folder.
We highly recommend using pre-made config yaml files for starter.
Download <code class="docutils literal notranslate"><span class="pre">starter.yaml</span></code> file to your local environment, and you are ready to go.</p>
<div class="admonition-write-custom-config-yaml-file admonition">
<p class="admonition-title">Write custom config yaml file</p>
<p>If you want to write your own custom config yaml file for detailed configuration and experiment,
check out the <a class="reference internal" href="optimization/optimization.html"><span class="std std-doc">optimization</span></a> section.</p>
</div>
<p>Run below code at CLI, then AutoRAG automatically evaluate your dataset and find the best RAG pipeline for your dataset.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>autorag<span class="w"> </span>evaluate<span class="w"> </span>--config<span class="w"> </span>your/path/to/default_config.yaml<span class="w"> </span>--qa_data_path<span class="w"> </span>your/path/to/qa.parquet<span class="w"> </span>--corpus_data_path<span class="w"> </span>your/path/to/corpus.parquet
</pre></div>
</div>
<p>Or you can use python code like below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">autorag.evaluator</span> <span class="kn">import</span> <span class="n">Evaluator</span>

<span class="n">evaluator</span> <span class="o">=</span> <span class="n">Evaluator</span><span class="p">(</span><span class="n">qa_data_path</span><span class="o">=</span><span class="s1">&#39;your/path/to/qa.parquet&#39;</span><span class="p">,</span> <span class="n">corpus_data_path</span><span class="o">=</span><span class="s1">&#39;your/path/to/corpus.parquet&#39;</span><span class="p">)</span>
<span class="n">evaluator</span><span class="o">.</span><span class="n">start_trial</span><span class="p">(</span><span class="s1">&#39;your/path/to/config.yaml&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Once it is done, you can see several files and folders created in your current directory.<br />
These files and folders contain all information about the evaluation results and the best RAG pipeline for your data.</p>
<p align="center">
	<img src="./_static/project_folder_example.png" alt="Example of project folder structure">
</p>
<p>The First thing you can see might be a folder named after number, which is 3 in the above image.
This is the trial folder that contains all results that you run above.
The number is the trial number, and you can check when you run the evaluation at <code class="docutils literal notranslate"><span class="pre">trial.json</span></code> file.</p>
<p>And the most important file is <code class="docutils literal notranslate"><span class="pre">summary.csv</span></code> files.
You can check out which module and parameters are the best for your dataset.
And there are lots of details inside node line and node folders.
You can find out more information about folder structure and result files at <a class="reference internal" href="structure.html"><span class="std std-doc">here</span></a>.</p>
<div class="admonition-want-to-specify-project-folder admonition">
<p class="admonition-title">Want to specify project folder?</p>
<p>You can specify project directory with <code class="docutils literal notranslate"><span class="pre">--project_dir</span></code> option or project_dir parameter.</p>
</div>
<section id="restart-a-trial-if-an-error-occurs-during-the-trial">
<h3>❗Restart a trial if an error occurs during the trial<a class="headerlink" href="#restart-a-trial-if-an-error-occurs-during-the-trial" title="Link to this heading">¶</a></h3>
<p>If an error occurs during the trial, you can restart the trial.</p>
<p>If you had issues with the <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> file, you can modify the <code class="docutils literal notranslate"><span class="pre">config.yaml</span></code> file in the trail folder and run the
code below.</p>
<p>Run below code at CLI, then AutoRAG automatically restart evaluate.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>autorag<span class="w"> </span>restart_evaluate<span class="w"> </span>--trial_path<span class="w"> </span>your/path/to/trial_folder
</pre></div>
</div>
<p>Or you can use python code like below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">autorag.evaluator</span> <span class="kn">import</span> <span class="n">Evaluator</span>

<span class="n">evaluator</span> <span class="o">=</span> <span class="n">Evaluator</span><span class="p">(</span><span class="n">qa_data_path</span><span class="o">=</span><span class="s1">&#39;your/path/to/qa.parquet&#39;</span><span class="p">,</span> <span class="n">corpus_data_path</span><span class="o">=</span><span class="s1">&#39;your/path/to/corpus.parquet&#39;</span><span class="p">)</span>
<span class="n">evaluator</span><span class="o">.</span><span class="n">restart_trial</span><span class="p">(</span><span class="n">tiral_path</span><span class="o">=</span><span class="s1">&#39;your/path/to/trial_path&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition-what-if-trial-path-didn-t-also-create-a-first-node-line admonition">
<p class="admonition-title">What if Trial_Path didn’t also create a First Node Line?</p>
<p>If the First Node Line folder has not been created in the trial path you want to restart,
start_trial function will be executed instead of restart_trial.</p>
<p>Note that a new trial folder will be created, not a new restart result in that Trial Path.</p>
</div>
</section>
</section>
<section id="extract-pipeline-and-evaluate-test-dataset">
<h2>Extract pipeline and evaluate test dataset<a class="headerlink" href="#extract-pipeline-and-evaluate-test-dataset" title="Link to this heading">¶</a></h2>
<p>Now, it’s time to evaluate test dataset with a found RAG pipeline. For this, you can extract the optimal pipeline and
save it to new config yaml file.</p>
<p>You can use the below code.</p>
<p>Remind that your trial folder is in the directory you run the <code class="docutils literal notranslate"><span class="pre">Evaluator</span></code>.
And the trial folder name is number, like 0, 1, 2, 3, and so on.</p>
<p>Run below code at CLI, then AutoRAG automatically extract the optimal pipeline and save it to a new yaml file.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>autorag<span class="w"> </span>extract_best_config<span class="w"> </span>--trial_path<span class="w"> </span>your/path/to/trial_folder<span class="w"> </span>--output_path<span class="w"> </span>your/path/to/pipeline.yaml
</pre></div>
</div>
<p>Or you can use python code like below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">autorag.deploy</span> <span class="kn">import</span> <span class="n">extract_best_config</span>

<span class="n">pipeline_dict</span> <span class="o">=</span> <span class="n">extract_best_config</span><span class="p">(</span><span class="n">trial_path</span><span class="o">=</span><span class="s1">&#39;your/path/to/trial_folder&#39;</span><span class="p">,</span> <span class="n">output_path</span><span class="o">=</span><span class="s1">&#39;your/path/to/pipeline.yaml&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can check out your pipeline yaml file at <code class="docutils literal notranslate"><span class="pre">your/path/to/pipeline.yaml</span></code>.
And then, run evaluation with test dataset again.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Run evaluation to another folder.
Running evaluation with another dataset in same folder can cause serious malfunction.</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>autorag<span class="w"> </span>evaluate<span class="w"> </span>--config<span class="w"> </span>your/path/to/pipeline.yaml<span class="w"> </span>--qa_data_path<span class="w"> </span>your/path/to/qa_test.parquet<span class="w"> </span>--corpus_data_path<span class="w"> </span>your/path/to/corpus_test.parquet
</pre></div>
</div>
<p>It will evaluate your test dataset with the found RAG pipeline.</p>
</section>
<section id="deploy-your-optimal-rag-pipeline">
<h2>Deploy your optimal RAG pipeline<a class="headerlink" href="#deploy-your-optimal-rag-pipeline" title="Link to this heading">¶</a></h2>
<section id="run-as-a-cli">
<h3>1. Run as a CLI<a class="headerlink" href="#run-as-a-cli" title="Link to this heading">¶</a></h3>
<p>You can use a found optimal RAG pipeline right away with extracted yaml file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">autorag.deploy</span> <span class="kn">import</span> <span class="n">Runner</span>

<span class="n">runner</span> <span class="o">=</span> <span class="n">Runner</span><span class="o">.</span><span class="n">from_yaml</span><span class="p">(</span><span class="s1">&#39;your/path/to/pipeline.yaml&#39;</span><span class="p">)</span>
<span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;your question&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="run-as-an-api-server">
<h3>2. Run as an API server<a class="headerlink" href="#run-as-an-api-server" title="Link to this heading">¶</a></h3>
<p>You can run this pipeline as an API server.</p>
<p>Check out API endpoint at <a class="reference internal" href="deploy/api_endpoint.html"><span class="std std-doc">here</span></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">autorag.deploy</span> <span class="kn">import</span> <span class="n">Runner</span>

<span class="n">runner</span> <span class="o">=</span> <span class="n">Runner</span><span class="o">.</span><span class="n">from_yaml</span><span class="p">(</span><span class="s1">&#39;your/path/to/pipeline.yaml&#39;</span><span class="p">)</span>
<span class="n">runner</span><span class="o">.</span><span class="n">run_api_server</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>autorag<span class="w"> </span>run_api<span class="w"> </span>--config_path<span class="w"> </span>your/path/to/pipeline.yaml<span class="w"> </span>--host<span class="w"> </span><span class="m">0</span>.0.0.0<span class="w"> </span>--port<span class="w"> </span><span class="m">8000</span>
</pre></div>
</div>
<div class="admonition-want-to-specify-project-folder admonition">
<p class="admonition-title">Want to specify project folder?</p>
<p>You can specify project directory with <code class="docutils literal notranslate"><span class="pre">--project_dir</span></code> option or project_dir parameter.</p>
</div>
</section>
<section id="run-as-a-web-interface">
<h3>3. Run as a Web Interface<a class="headerlink" href="#run-as-a-web-interface" title="Link to this heading">¶</a></h3>
<p>you can run this pipeline as a web interface.</p>
<p>Check out web interface at <a class="reference internal" href="deploy/web.html"><span class="std std-doc">here</span></a>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>autorag<span class="w"> </span>run_web<span class="w"> </span>--yaml_path<span class="w"> </span>your/path/to/pipeline.yaml
</pre></div>
</div>
<div class="admonition-want-to-specify-project-folder admonition">
<p class="admonition-title">Want to specify project folder?</p>
<p>You can specify project directory with <code class="docutils literal notranslate"><span class="pre">--project_dir</span></code> option or project_dir parameter.</p>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>Why don’t you share your work and evaluation results with others?
You can simply share your yaml file, or <code class="docutils literal notranslate"><span class="pre">summary.csv</span></code> file.
With that, you can share whole RAG pipeline and evaluation results to others.</p>
<p>Feel free to share your work at our <a class="reference external" href="https://discord.gg/P4DYXfmSAs">Discord</a> channel!</p>
</div>
<p>And that’s it!
You successfully found the optimal RAG pipeline for your dataset and deployed it.
Now, you can make your custom config file, write better config yaml file,
and evaluate it again and again for better result.</p>
<p>Or just launch a new RAG product with your saved time with AutoRAG!</p>
<div class="admonition-next-step admonition">
<p class="admonition-title">Next Step</p>
<ul class="simple">
<li><p>Learn about evaluation data creation at <a class="reference internal" href="data_creation/tutorial.html"><span class="std std-doc">here</span></a></p></li>
<li><p>Learn how to use result files more effectively at <a class="reference internal" href="data_creation/data_format.html"><span class="std std-doc">here</span></a></p></li>
<li><p>Learn how AutoRAG find the optimal RAG pipeline at <a class="reference internal" href="optimization/optimization.html"><span class="std std-doc">here</span></a></p></li>
<li><p>Write your custom config yaml file at <a class="reference internal" href="optimization/custom_config.html"><span class="std std-doc">here</span></a></p></li>
</ul>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="structure.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Structure</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="install.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Installation and Setup</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Marker-Inc
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Tutorial</a><ul>
<li><a class="reference internal" href="#prepare-evaluation-dataset">Prepare Evaluation Dataset</a></li>
<li><a class="reference internal" href="#find-optimal-rag-pipeline">Find Optimal RAG Pipeline</a><ul>
<li><a class="reference internal" href="#restart-a-trial-if-an-error-occurs-during-the-trial">❗Restart a trial if an error occurs during the trial</a></li>
</ul>
</li>
<li><a class="reference internal" href="#extract-pipeline-and-evaluate-test-dataset">Extract pipeline and evaluate test dataset</a></li>
<li><a class="reference internal" href="#deploy-your-optimal-rag-pipeline">Deploy your optimal RAG pipeline</a><ul>
<li><a class="reference internal" href="#run-as-a-cli">1. Run as a CLI</a></li>
<li><a class="reference internal" href="#run-as-an-api-server">2. Run as an API server</a></li>
<li><a class="reference internal" href="#run-as-a-web-interface">3. Run as a Web Interface</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/tabs.js?v=3ee01567"></script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    </body>
</html>